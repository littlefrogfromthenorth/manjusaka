var de=Object.defineProperty,fe=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var U=(e,s,o)=>s in e?de(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,D=(e,s)=>{for(var o in s||(s={}))we.call(s,o)&&U(e,o,s[o]);if(K)for(var o of K(s))he.call(s,o)&&U(e,o,s[o]);return e},L=(e,s)=>fe(e,ge(s));var Z=(e,s,o)=>new Promise((u,l)=>{var p=i=>{try{r(o.next(i))}catch(c){l(c)}},t=i=>{try{r(o.throw(i))}catch(c){l(c)}},r=i=>i.done?u(i.value):Promise.resolve(i.value).then(p,t);r((o=o.apply(e,s)).next())});import{u as X,b as A,x as E,c as w,aQ as z,aR as C,o as f,z as B,W as me,b9 as g,i as S,j as h,m as N,t as T,aT as O,C as P,F as v,bc as x,d8 as ye,aL as H,l as Q,k as R,bx as De,r as k,dK as Ce,dV as W,a,aY as $,cZ as ke,Z as Y,ag as ee,b8 as _,b3 as te,bK as ve,bN as G,w as be,aV as $e,aU as Be,bi as Pe,f as oe,aa as Se,b_ as se,dc as Te,de as re,dN as Oe}from"./index.ecaec58b.js";import{D as _e}from"./index.e03c8569.js";import{A as Fe}from"./ArrowLeftOutlined.68372d7a.js";import{i as Ve}from"./isEqual.07d69833.js";const{t:J}=X(),ne={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:J("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:J("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},Le=D({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},ne);const He=A({name:"BasicDrawerFooter",props:L(D({},ne),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:s}){const{prefixCls:o}=E("basic-drawer-footer"),u=w(()=>{const t=`${e.height}`;return{height:t,lineHeight:t}});function l(){s("ok")}function p(){s("close")}return{handleOk:l,prefixCls:o,handleClose:p,getStyle:u}}});function Ne(e,s,o,u,l,p){const t=C("a-button");return e.showFooter||e.$slots.footer?(f(),B("div",{key:0,class:v(e.prefixCls),style:x(e.getStyle)},[e.$slots.footer?g(e.$slots,"footer",{key:1}):(f(),B(me,{key:0},[g(e.$slots,"insertFooter"),e.showCancelBtn?(f(),S(t,O({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:h(()=>[N(T(e.cancelText),1)]),_:1},16,["onClick"])):P("",!0),g(e.$slots,"centerFooter"),e.showOkBtn?(f(),S(t,O({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:h(()=>[N(T(e.okText),1)]),_:1},16,["type","onClick","loading"])):P("",!0),g(e.$slots,"appendFooter")],64))],6)):P("",!0)}var Re=z(He,[["render",Ne]]);const je=A({name:"BasicDrawerHeader",components:{BasicTitle:ye,ArrowLeftOutlined:Fe},props:{isDetail:H.bool,showDetailBack:H.bool,title:H.string},emits:["close"],setup(e,{emit:s}){const{prefixCls:o}=E("basic-drawer-header");function u(){s("close")}return{prefixCls:o,handleClose:u}}}),Ae={key:1};function Ee(e,s,o,u,l,p){const t=C("BasicTitle"),r=C("ArrowLeftOutlined");return e.isDetail?(f(),B("div",{key:1,class:v([e.prefixCls,`${e.prefixCls}--detail`])},[Q("span",{class:v(`${e.prefixCls}__twrap`)},[e.showDetailBack?(f(),B("span",{key:0,onClick:s[0]||(s[0]=(...i)=>e.handleClose&&e.handleClose(...i))},[R(r,{class:v(`${e.prefixCls}__back`)},null,8,["class"])])):P("",!0),e.title?(f(),B("span",Ae,T(e.title),1)):P("",!0)],2),Q("span",{class:v(`${e.prefixCls}__toolbar`)},[g(e.$slots,"titleToolbar")],2)],2)):(f(),S(t,{key:0,class:v(e.prefixCls)},{default:h(()=>[g(e.$slots,"title"),N(" "+T(e.$slots.title?"":e.title),1)]),_:3},8,["class"]))}var ze=z(je,[["render",Ee]]);const Ie=A({components:{Drawer:_e,ScrollContainer:De,DrawerFooter:Re,DrawerHeader:ze},inheritAttrs:!1,props:Le,emits:["visible-change","ok","close","register"],setup(e,{emit:s}){const o=k(!1),u=Ce(),l=k(null),{t:p}=X(),{prefixVar:t,prefixCls:r}=E("basic-drawer"),i={setDrawerProps:ue,emitVisible:void 0},c=_();c&&s("register",i,c.uid);const y=w(()=>W($(e),a(l))),m=w(()=>{const n=L(D(D({placement:"right"},a(u)),a(y)),{visible:a(o)});n.title=void 0;const{isDetail:d,width:V,wrapClassName:M,getContainer:pe}=n;if(d){V||(n.width="100%");const q=`${r}__detail`;n.wrapClassName=M?`${M} ${q}`:q,pe||(n.getContainer=`.${t}-layout-content`)}return n}),F=w(()=>D(D({},u),a(m))),I=w(()=>{const{footerHeight:n,showFooter:d}=a(m);return d&&n?ke(n)?`${n}px`:`${n.replace("px","")}px`:"0px"}),ae=w(()=>{const n=a(I);return{position:"relative",height:`calc(100% - ${n})`}}),le=w(()=>{var n;return!!((n=a(m))!=null&&n.loading)});Y(()=>e.visible,(n,d)=>{n!==d&&(o.value=n)},{deep:!0}),Y(()=>o.value,n=>{ee(()=>{var d;s("visible-change",n),c&&((d=i.emitVisible)==null||d.call(i,n,c.uid))})});function ie(n){return Z(this,null,function*(){const{closeFunc:d}=a(m);if(s("close",n),d&&te(d)){const V=yield d();o.value=!V;return}o.value=!1})}function ue(n){l.value=W(a(l)||{},n),Reflect.has(n,"visible")&&(o.value=!!n.visible)}function ce(){s("ok")}return{onClose:ie,t:p,prefixCls:r,getMergeProps:y,getScrollContentStyle:ae,getProps:m,getLoading:le,getBindValues:F,getFooterHeight:I,handleOk:ce}}});function Me(e,s,o,u,l,p){const t=C("DrawerHeader"),r=C("ScrollContainer"),i=C("DrawerFooter"),c=C("Drawer"),y=ve("loading");return f(),S(c,O({class:e.prefixCls,onClose:e.onClose},e.getBindValues),G({default:h(()=>[be((f(),S(r,{style:x(e.getScrollContentStyle),"loading-tip":e.loadingText||e.t("common.loadingText")},{default:h(()=>[g(e.$slots,"default")]),_:3},8,["style","loading-tip"])),[[y,e.getLoading]]),R(i,O(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),G({_:2},[$e(Object.keys(e.$slots),m=>({name:m,fn:h(F=>[g(e.$slots,m,Be(Pe(F||{})))])}))]),1040,["onClose","onOk","height"])]),_:2},[e.$slots.title?{name:"title",fn:h(()=>[g(e.$slots,"title")]),key:"1"}:{name:"title",fn:h(()=>[R(t,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:h(()=>[g(e.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack","onClose"])]),key:"0"}]),1040,["class","onClose"])}var qe=z(Ie,[["render",Me]]);const b=oe({}),j=oe({});function Ye(){if(!_())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=k(null),s=k(!1),o=k("");function u(t,r){se(()=>{e.value=null,s.value=null,b[a(o)]=null}),!(a(s)&&Te()&&t===a(e))&&(o.value=r,e.value=t,s.value=!0,t.emitVisible=(i,c)=>{j[c]=i})}const l=()=>{const t=a(e);return t||re("useDrawer instance is undefined!"),t},p={setDrawerProps:t=>{var r;(r=l())==null||r.setDrawerProps(t)},getVisible:w(()=>j[~~a(o)]),openDrawer:(t=!0,r,i=!0)=>{var y;if((y=l())==null||y.setDrawerProps({visible:t}),!r)return;if(i){b[a(o)]=null,b[a(o)]=$(r);return}Ve($(b[a(o)]),$(r))||(b[a(o)]=$(r))},closeDrawer:()=>{var t;(t=l())==null||t.setDrawerProps({visible:!1})}};return[u,p]}const Ge=e=>{const s=k(null),o=_(),u=k("");if(!_())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const l=()=>{const t=a(s);if(!t){re("useDrawerInner instance is undefined!");return}return t},p=(t,r)=>{se(()=>{s.value=null}),u.value=r,s.value=t,o==null||o.emit("register",t,r)};return Se(()=>{const t=b[a(u)];!t||!e||!te(e)||ee(()=>{e(t)})}),[p,{changeLoading:(t=!0)=>{var r;(r=l())==null||r.setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{var r;(r=l())==null||r.setDrawerProps({confirmLoading:t})},getVisible:w(()=>j[~~a(u)]),closeDrawer:()=>{var t;(t=l())==null||t.setDrawerProps({visible:!1})},setDrawerProps:t=>{var r;(r=l())==null||r.setDrawerProps(t)}}]},Je=Oe(qe);export{Je as B,Ye as a,Ge as u};
