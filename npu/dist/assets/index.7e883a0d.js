import{H as W,k as f,aH as q,c5 as X,af as S,b as w,S as Q,an as Z,r as F,f as G,Z as J,ag as k,am as H,e1 as Y,er as K,$ as j,c as O,_ as E,M as A,X as L,a0 as ee,dg as te,cs as ne,x as M,e as re,bo as oe,bz as ae,o as m,i as h,j as ie,l as se,F as R,a as _,bH as ce,aQ as U,es as le,bj as D,bv as ue,et as ve,bE as I,aR as b,z as fe,C,W as de}from"./index.59109d81.js";import{c as $,a as ge}from"./index.c535d7e7.js";import pe from"./Login.e730bb4f.js";import{s as me,g as _e}from"./scrollTo.66a1ba12.js";import"./FullscreenOutlined.e9ba2b3a.js";import"./_baseIteratee.2ac5361a.js";import"./useContentViewHeight.b742a811.js";import"./index.6d260ea2.js";import"./index.bea4f14b.js";import"./useSortable.98c26055.js";import"./index.24c08581.js";import"./index.9a88e72b.js";import"./useSize.f495344d.js";import"./isEqual.442fc559.js";function Te(t){var e,n=function(i){return function(){e=null,t.apply(void 0,W(i))}},r=function(){if(e==null){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];e=requestAnimationFrame(n(s))}};return r.cancel=function(){return cancelAnimationFrame(e)},r}var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},be=Se;function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){he(t,o,n[o])})}return t}function he(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(e,n){var r=V({},e,n.attrs);return f(q,V({},r,{icon:be}),null)};x.displayName="VerticalAlignTopOutlined";x.inheritAttrs=!1;var Pe=x,ye={visibilityHeight:S.number.def(400),duration:S.number.def(450),target:Function,prefixCls:S.string,onClick:S.func},Be=w({name:"ABackTop",inheritAttrs:!1,props:ye,emits:["click"],setup:function(e,n){var r=n.slots,o=n.attrs,i=n.emit,s=Q("configProvider",Z),a=F(),l=G({visible:!1,scrollEvent:null}),d=function(){return a.value&&a.value.ownerDocument?a.value.ownerDocument:window},z=function(u){var v=e.target,g=v===void 0?d:v,p=e.duration;me(0,{getContainer:g,duration:p}),i("click",u)},P=Te(function(c){var u=e.visibilityHeight,v=_e(c.target,!0);l.visible=v>u}),y=function(){var u=e.target,v=u||d,g=v();l.scrollEvent=ne(g,"scroll",function(p){P(p)}),P({target:g})},B=function(){l.scrollEvent&&l.scrollEvent.remove(),P.cancel()};J(function(){return e.target},function(){B(),k(function(){y()})}),H(function(){k(function(){y()})}),Y(function(){k(function(){y()})}),K(function(){B()}),j(function(){B()});var T=O(function(){return s.getPrefixCls("back-top",e.prefixCls)});return function(){var c,u,v=f("div",{class:"".concat(T.value,"-content")},[f("div",{class:"".concat(T.value,"-icon")},[f(Pe,null,null)])]),g=E(E({},o),{onClick:z,class:(c={},A(c,"".concat(T.value),!0),A(c,"".concat(o.class),o.class),A(c,"".concat(T.value,"-rtl"),s.direction==="rtl"),c)}),p=l.visible?f("div",L(L({},g),{},{ref:a}),[((u=r.default)===null||u===void 0?void 0:u.call(r))||v]):null,N=ee("fade");return f(te,N,{default:function(){return[p]}})}}}),ke=X(Be);const Ae=w({__name:"SessionTimeoutLogin",setup(t){const{prefixCls:e}=M("st-login"),n=re(),r=oe(),o=ae(),i=F(0),s=()=>o.getProjectConfig.permissionMode===le.BACK;return H(()=>{i.value=n.userid}),j(()=>{(i.value&&i.value!==n.getUserInfo.userId||s()&&r.getLastBuildMenuTime===0)&&document.location.reload()}),(a,l)=>(m(),h(ce,null,{default:ie(()=>[se("div",{class:R(_(e))},[f(pe,{sessionTimeout:""})],2)]),_:1}))}});var Ce=U(Ae,[["__scopeId","data-v-5611a176"]]);const Oe=w({name:"LayoutFeatures",components:{BackTop:ke,LayoutLockPage:$(()=>D(()=>import("./index.f8c45eff.js"),["assets/index.f8c45eff.js","assets/index.9bf0d7a8.css","assets/index.59109d81.js","assets/index.1dd3c198.css","assets/index.c535d7e7.js","assets/index.204aaebf.css","assets/FullscreenOutlined.e9ba2b3a.js","assets/_baseIteratee.2ac5361a.js","assets/useContentViewHeight.b742a811.js","assets/index.6d260ea2.js","assets/index.40b3121d.css","assets/index.bea4f14b.js","assets/index.23e7e9ab.css","assets/useSortable.98c26055.js","assets/header.f0c63c74.js"])),SettingDrawer:$(()=>D(()=>import("./index.4c993718.js").then(function(t){return t.i}),["assets/index.4c993718.js","assets/index.783ca177.js","assets/index.5c7227e9.css","assets/index.59109d81.js","assets/index.1dd3c198.css","assets/index.6d260ea2.js","assets/index.40b3121d.css","assets/ArrowLeftOutlined.76351c5d.js","assets/isEqual.442fc559.js","assets/_baseIteratee.2ac5361a.js","assets/index.ef80d76f.js","assets/index.17eb4c41.css","assets/index.c535d7e7.js","assets/index.204aaebf.css","assets/FullscreenOutlined.e9ba2b3a.js","assets/useContentViewHeight.b742a811.js","assets/index.bea4f14b.js","assets/index.23e7e9ab.css","assets/useSortable.98c26055.js"])),SessionTimeoutLogin:Ce},setup(){const{getUseOpenBackTop:t,getShowSettingButton:e,getSettingButtonPosition:n,getFullContent:r}=ue(),o=ve(),{prefixCls:i}=M("setting-drawer-fearure"),{getShowHeader:s}=ge(),a=O(()=>o.getSessionTimeout),l=O(()=>{if(!_(e))return!1;const d=_(n);return d===I.AUTO?!_(s)||_(r):d===I.FIXED});return{getTarget:()=>document.body,getUseOpenBackTop:t,getIsFixedSettingDrawer:l,prefixCls:i,getIsSessionTimeout:a}}});function we(t,e,n,r,o,i){const s=b("LayoutLockPage"),a=b("BackTop"),l=b("SettingDrawer"),d=b("SessionTimeoutLogin");return m(),fe(de,null,[f(s),t.getUseOpenBackTop?(m(),h(a,{key:0,target:t.getTarget},null,8,["target"])):C("",!0),t.getIsFixedSettingDrawer?(m(),h(l,{key:1,class:R(t.prefixCls)},null,8,["class"])):C("",!0),t.getIsSessionTimeout?(m(),h(d,{key:2})):C("",!0)],64)}var We=U(Oe,[["render",we]]);export{We as default};
