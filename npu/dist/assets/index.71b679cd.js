import{r as _,am as N,a2 as ee,af as i,ae as U,b as W,Y as $,c as ae,J as te,Z as G,ag as I,cl as F,M as m,k as g,_ as z,cH as re,X as x,ac as ne,ad as oe,be as le,c1 as D}from"./index.0bfc751b.js";import{R as M,u as se,r as ie,a as ce}from"./useSize.df470e37.js";function ue(){var t=_({}),e=null;return N(function(){e=M.subscribe(function(l){t.value=l})}),ee(function(){M.unsubscribe(e)}),t}var L={prefixCls:i.string,shape:i.oneOf(U("circle","square")).def("circle"),size:{type:[Number,String,Object],default:function(){return"default"}},src:i.string,srcset:i.string,icon:i.VNodeChild,alt:i.string,gap:i.number,draggable:i.bool,loadError:{type:Function}},ve=W({name:"AAvatar",inheritAttrs:!1,props:L,slots:["icon"],setup:function(e,l){var r=l.slots,a=l.attrs,p=_(!0),S=_(!1),v=_(1),f=_(null),C=_(null),E=$("avatar",e),y=E.prefixCls,T=se(),u=ue(),o=ae(function(){if(te(e.size)==="object"){var s=ie.find(function(c){return u.value[c]}),n=e.size[s];return n}}),d=function(n){return o.value?{width:"".concat(o.value,"px"),height:"".concat(o.value,"px"),lineHeight:"".concat(o.value,"px"),fontSize:"".concat(n?o.value/2:18,"px")}:{}},b=function(){if(!(!f.value||!C.value)){var n=f.value.offsetWidth,c=C.value.offsetWidth;if(n!==0&&c!==0){var j=e.gap,O=j===void 0?4:j;O*2<c&&(v.value=c-O*2<n?(c-O*2)/n:1)}}},k=function(){var n=e.loadError,c=n==null?void 0:n();c!==!1&&(p.value=!1)};return G(function(){return e.src},function(){I(function(){p.value=!0,v.value=1})}),G(function(){return e.gap},function(){I(function(){b()})}),N(function(){I(function(){b(),S.value=!0})}),function(){var s,n,c=e.shape,j=e.size,O=e.src,V=e.alt,X=e.srcset,q=e.draggable,A=F(r,e,"icon"),P=y.value,h=j==="default"?T.value:j,J=(s={},m(s,"".concat(a.class),!!a.class),m(s,P,!0),m(s,"".concat(P,"-lg"),h==="large"),m(s,"".concat(P,"-sm"),h==="small"),m(s,"".concat(P,"-").concat(c),c),m(s,"".concat(P,"-image"),O&&p.value),m(s,"".concat(P,"-icon"),A),s),Y=typeof h=="number"?{width:"".concat(h,"px"),height:"".concat(h,"px"),lineHeight:"".concat(h,"px"),fontSize:A?"".concat(h/2,"px"):"18px"}:{},H=(n=r.default)===null||n===void 0?void 0:n.call(r),R;if(O&&p.value)R=g("img",{draggable:q,src:O,srcset:X,onError:k,alt:V},null);else if(A)R=A;else if(S.value||v.value!==1){var B="scale(".concat(v.value,") translateX(-50%)"),Z={msTransform:B,WebkitTransform:B,transform:B},Q=typeof h=="number"?{lineHeight:"".concat(h,"px")}:{};R=g(re,{onResize:b},{default:function(){return[g("span",{class:"".concat(P,"-string"),ref:f,style:z(z({},Q),Z)},[H])]}})}else R=g("span",{class:"".concat(P,"-string"),ref:f,style:{opacity:0}},[H]);return g("span",x(x({},a),{},{ref:C,class:J,style:z(z(z({},Y),d(!!A)),a.style)}),[R])}}}),w=ve,fe={prefixCls:i.string,maxCount:i.number,maxStyle:{type:Object,default:function(){return{}}},maxPopoverPlacement:i.oneOf(U("top","bottom")).def("top"),size:L.size},de=W({name:"AAvatarGroup",inheritAttrs:!1,props:fe,setup:function(e,l){var r=l.slots,a=l.attrs,p=$("avatar-group",e),S=p.prefixCls,v=p.direction;return ce(e),function(){var f,C=e.maxPopoverPlacement,E=C===void 0?"top":C,y=e.maxCount,T=e.maxStyle,u=(f={},m(f,S.value,!0),m(f,"".concat(S.value,"-rtl"),v.value==="rtl"),m(f,"".concat(a.class),!!a.class),f),o=F(r,e),d=ne(o).map(function(n,c){return oe(n,{key:"avatar-key-".concat(c)})}),b=d.length;if(y&&y<b){var k=d.slice(0,y),s=d.slice(y,b);return k.push(g(le,{key:"avatar-popover-key",content:s,trigger:"hover",placement:E,overlayClassName:"".concat(S.value,"-popover")},{default:function(){return[g(w,{style:T},{default:function(){return["+".concat(b-y)]}})]}})),g("div",x(x({},a),{},{class:u,style:a.style}),[k])}return g("div",x(x({},a),{},{class:u,style:a.style}),[d])}}}),K=de;w.Group=K;w.install=function(t){return t.component(w.name,w),t.component(K.name,K),t};var pe=globalThis&&globalThis.__rest||function(t,e){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(l[r[a]]=t[r[a]]);return l},ye={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},me=W({name:"TransButton",inheritAttrs:!1,props:{noStyle:i.looseBool,onClick:i.func,disabled:i.looseBool,autofocus:i.looseBool},setup:function(e,l){var r=l.slots,a=l.emit,p=l.attrs,S=l.expose,v=_(),f=function(o){var d=o.keyCode;d===D.ENTER&&o.preventDefault()},C=function(o){var d=o.keyCode;d===D.ENTER&&a("click",o)},E=function(o){a("click",o)},y=function(){v.value&&v.value.focus()},T=function(){v.value&&v.value.blur()};return N(function(){e.autofocus&&y()}),S({focus:y,blur:T}),function(){var u,o=e.noStyle,d=e.disabled,b=pe(e,["noStyle","disabled"]),k={};return o||(k=z({},ye)),d&&(k.pointerEvents="none"),g("div",x(x(x({role:"button",tabindex:0,ref:v},b),p),{},{onClick:E,onKeydown:f,onKeyup:C,style:z(z({},k),p.style||{})}),[(u=r.default)===null||u===void 0?void 0:u.call(r)])}}}),xe=me;export{w as A,xe as T,ue as u};
